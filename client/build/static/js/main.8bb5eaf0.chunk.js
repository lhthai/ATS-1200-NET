(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t){},126:function(e,t,a){e.exports=a(244)},133:function(e,t,a){},138:function(e,t,a){},168:function(e,t){},198:function(e,t){},199:function(e,t){},244:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=(a(131),a(132),a(133),a(10)),i=a(36),s=a(122),u=(a(138),a(33)),m=a(22),d=a(7),E=a(8),p=a(247),g=a(248),b=a(249),f=a(250),y=a(123),h=a.n(y)()("ws://localhost:8000"),v=function(){var e=new Date,t=e.getHours();t=(t<10?"0":"")+t;var a=e.getMinutes();a=(a<10?"0":"")+a;var n=e.getSeconds();n=(n<10?"0":"")+n;var r=e.getFullYear(),c=e.getMonth()+1;c=(c<10?"0":"")+c;var l=e.getDate();return"".concat(l=(l<10?"0":"")+l,"/").concat(c,"/").concat(r," ").concat(t,":").concat(a,":").concat(n)},O=function(e){var t=e.toggleSidebar,a=Object(n.useState)(0),c=Object(E.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(""),s=Object(E.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(null),y=Object(E.a)(d,2),O=y[0],S=y[1];return h.on("readWeight",(function(e){o(e.weight),m(e.flag)})),Object(n.useEffect)((function(){var e=setInterval((function(){S(v())}),1e3);return function(){return clearInterval(e)}}),[]),r.a.createElement(p.a,{color:"light",light:!0,className:"navbar shadow-sm p-3 mb-3 rounded justify-content-end",expand:"xl"},r.a.createElement(g.a,{onClick:t}),r.a.createElement(b.a,{className:"mr-auto mt-2 ml-3",navbar:!0},r.a.createElement(f.a,null,O),"ST"===u&&r.a.createElement(f.a,{className:"ml-5 text-success"},"Stable")||"OL"===u&&r.a.createElement(f.a,{className:"ml-5 text-danger"},"Overload")||r.a.createElement("div",null)),r.a.createElement(b.a,{className:"mx-auto",navbar:!0},r.a.createElement(f.a,{tag:"h2",className:"text-danger mt-2"},l," KG")))},S=a(21),T=a(251),C=a(13),x=a(11);var j=function(e){var t=e.items,a=e.name,c=e.icon,l=Object(n.useState)(!1),o=Object(E.a)(l,2),i=o[0],s=o[1];return r.a.createElement("div",null,r.a.createElement(T.a,{tag:S.a,to:"#",className:"p-3",onClick:function(){s(!i)}},r.a.createElement(C.a,{icon:c,className:"mr-2"}),a,i?r.a.createElement(C.a,{icon:x.c,className:"ml-5"}):r.a.createElement(C.a,{icon:x.d,className:"ml-5"})),r.a.createElement(b.a,{vertical:!0,style:{display:i?"":"none"}},t.map((function(e){return r.a.createElement(f.a,{key:e.name},r.a.createElement(T.a,{className:"pl-4",tag:S.a,to:e.link}," ",r.a.createElement(C.a,{icon:e.icon,className:"mr-2"}),e.name))}))))},N=(a(64),[{name:"Brand Master",link:"/brand-master",icon:x.g},{name:"Vendor Master",link:"/vendor-master",icon:x.g},{name:"Destination Master",link:"/destination-master",icon:x.g},{name:"Other Master",link:"/other-master",icon:x.g},{name:"Truck Master",link:"/truck-master",icon:x.g}]),_=[{name:"Operation Settings",link:"/operation-setting",icon:x.f},{name:"Maintenance Data Upload",link:"/maintenance-data-upload",icon:x.x},{name:"Item Operation Settings",link:"/item-operation-setting",icon:x.m},{name:"Backup Data",link:"/backup",icon:x.e},{name:"Restore Data",link:"/restore",icon:x.w}],w=function(){return r.a.createElement("div",{className:"bg-light vertical",id:"sidebar-wrapper",style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"p-4 d-flex justify-content-center"},r.a.createElement("h4",{className:"text-center"},"ATS-1200-NET")),r.a.createElement("hr",{className:"m-0"}),r.a.createElement(b.a,{vertical:!0,style:{flex:1}},r.a.createElement(f.a,null,r.a.createElement(T.a,{className:"p-3",tag:S.a,to:{pathname:"/",weighingProp:{weighing:""}}},r.a.createElement(C.a,{icon:x.r,className:"mr-2"}),"Weighing")),r.a.createElement("p",{className:"text-secondary font-weight-bold text-uppercase mb-0 p-4"},"Menu"),r.a.createElement(f.a,null,r.a.createElement(T.a,{className:"p-3",tag:S.a,to:"/staying-truck-list"},r.a.createElement(C.a,{icon:x.v})," Staying Truck List")),r.a.createElement(f.a,null,r.a.createElement(T.a,{className:" p-3",tag:S.a,to:"/measurement-data-list"},r.a.createElement(C.a,{icon:x.l,className:"mr-2"}),"Measurement Data List")),r.a.createElement(f.a,null,r.a.createElement(T.a,{className:" p-3",tag:S.a,to:"/summary-report"},r.a.createElement(C.a,{icon:x.a,className:"mr-2"}),"Summary Report")),r.a.createElement(f.a,null,r.a.createElement(T.a,{className:"p-3",tag:S.a,to:"/manual-weighing"},r.a.createElement(C.a,{icon:x.k,className:"mr-2"}),"Manual Weighing")),r.a.createElement(f.a,null,r.a.createElement(j,{items:N,name:"Master Menu",icon:x.s})),r.a.createElement(f.a,null,r.a.createElement(j,{items:_,name:"Setting Menu",icon:x.t}))),r.a.createElement("hr",{className:"m-0"}),r.a.createElement("div",{className:"ml-3 bg-light"},r.a.createElement("p",{className:"text-dark font-weight-bold my-2"},"Version 1.0.0")))},k=function(){return r.a.createElement("footer",{className:"text-center bg-light py-2"},r.a.createElement("span",null,r.a.createElement("a",{className:"text-dark",href:"https://www.tanaka-scale.co.jp/en/",target:"_blank",rel:"noopener noreferrer"},"Copyright \xa9 Tanaka Scale Works Co., Ltd")))},R=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(E.a)(a,2),l=c[0],o=c[1];return r.a.createElement("div",{className:"".concat(l?"toggled":""," d-flex"),id:"wrapper"},r.a.createElement(w,null),r.a.createElement("div",{id:"page-content-wrapper",className:"pl-2"},r.a.createElement(O,{toggleSidebar:function(){o(!l)}}),r.a.createElement("div",{style:{flex:1}},t),r.a.createElement(k,null)))},A=a(57),I=function(e){var t=e.component,a=e.layout,n=Object(A.a)(e,["component","layout"]);return r.a.createElement(u.a,Object.assign({},n,{render:function(e){return r.a.createElement(a,null,r.a.createElement(t,e))}}))},D=a(5),P=a.n(D),U=a(15),M=a(3),L=a(265),W=a(258),G=a(259),B=a(260),F=a(266),q=a(261),K=a(267),V=a(262),H=a(263),z=a(264),Y=a(255),J=a(12),X=a.n(J),$=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"GET_ITEM_OPERATION_SETTING"}),n.prev=1,n.next=4,P.a.awrap(X.a.get("/setting/itemoperationsetting"));case 4:t=n.sent,a=t.data,e({type:"GET_ITEM_OPERATION_SETTING_SUCCESS",payload:a[0]}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}},Q=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.post("/weighing/",e));case 3:a=r.sent,n=a.data,t({type:"CREATE_WEIGHING",payload:n}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),d.b.error("Cannot create Weighing. Please try again!");case 11:case"end":return r.stop()}}),null,null,[[0,8]])}},Z=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/weighing/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_WEIGHING",payload:n}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),d.b.error("Cannot update Weighing. Please try again!");case 11:case"end":return r.stop()}}),null,null,[[0,8]])}},ee=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.a.awrap(X.a.get("/weighing/getmaxslipno"));case 3:t=n.sent,a=t.data,e({type:"GET_MAX_SLIPNO",payload:a}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),d.b.error("Cannot load Max SlipNo. Please try again!");case 11:case"end":return n.stop()}}),null,null,[[0,8]])}},te=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"GET_STAYING_TRUCKS"}),n.prev=1,n.next=4,P.a.awrap(X.a.get("/weighing/stayingtruck"));case 4:t=n.sent,a=t.data,e({type:"GET_STAYING_TRUCKS_SUCCESS",payload:a}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}},ae=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.post("/weighing/",e));case 3:a=r.sent,n=a.data,t({type:"CREATE_STAYING_TRUCK",payload:n}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 11:case"end":return r.stop()}}),null,null,[[0,8]])}},ne=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/weighing/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_STAYING_TRUCK",payload:n}),d.b.success("Staying truck updated successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},re=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_MEASUREMENT_DATA_LIST"}),r.prev=1,r.next=4,P.a.awrap(X.a.get("/weighing/getweighingbydate/".concat(e)));case 4:a=r.sent,n=a.data,t({type:"GET_MEASUREMENT_DATA_LIST_SUCCESS",payload:n}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return r.stop()}}),null,null,[[1,9]])}},ce=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.delete("/weighing/".concat(e)));case 3:a=r.sent,n=a.data,t({type:"DELETE_MEASUREMENT_DATA_LIST",payload:n}),d.b.success("Measurement data deleted successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},le=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"GET_WEIGHING_OPERATION_SETTING"}),n.prev=1,n.next=4,P.a.awrap(X.a.get("/setting/operationsetting"));case 4:t=n.sent,a=t.data,e({type:"GET_WEIGHING_OPERATION_SETTING_SUCCESS",payload:a[0]}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}},oe=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/setting/operationsetting/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_WEIGHING_OPERATION_SETTING",payload:n}),h.emit("restartServer"),d.b.success("Settings are updated successfully"),setTimeout((function(){d.b.info("Please refresh browser to apply changes!",{autoClose:!1})}),3e3),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 14:case"end":return r.stop()}}),null,null,[[0,11]])}},ie=function(e,t,a,n){var r,c,l,o,i,s,u;return P.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(r=e.target,c=r.name,l=r.value,n(Object(M.a)({},a,Object(U.a)({},c,l))),""!==l){m.next=6;break}n(Object(M.a)({},a,(o={},Object(U.a)(o,c,l),Object(U.a)(o,t,""),o))),m.next=17;break;case 6:return m.prev=6,m.next=9,P.a.awrap(X.a.get("/".concat(t,"/").concat(l)));case 9:i=m.sent,(s=i.data).length>0&&n(Object(M.a)({},a,(u={},Object(U.a)(u,c,l),Object(U.a)(u,t,s[0].name),u))),m.next=17;break;case 14:m.prev=14,m.t0=m.catch(6),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 17:case"end":return m.stop()}}),null,null,[[6,14]])},se=function(e,t,a,n){var r,c,l,o,i,s,u;return P.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(r=e.target,c=r.name,l=r.value,a(Object(M.a)({},t,Object(U.a)({},c,l))),""!==l){m.next=6;break}a(n),m.next=17;break;case 6:return m.prev=6,m.next=9,P.a.awrap(X.a.get("/truck/".concat(l)));case 9:o=m.sent,(i=o.data).length>0&&(s=i[0],s.emptyWeight,u=Object(A.a)(s,["emptyWeight"]),a(Object(M.a)({},t,{},u))),m.next=17;break;case 14:m.prev=14,m.t0=m.catch(6),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 17:case"end":return m.stop()}}),null,null,[[6,14]])},ue=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/weighing/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_MEASUREMENT_DATA_LIST",payload:n}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 11:case"end":return r.stop()}}),null,null,[[0,8]])}},me=a(273),de=a(252),Ee=a(253),pe=a(254),ge=a(256),be=function(e){var t=e.modal,a=e.toggle,c=e.masterItem,l=e.onSelect,o=Object(n.useState)([]),i=Object(E.a)(o,2),s=i[0],u=i[1];Object(n.useEffect)((function(){!function(){var e,t;P.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.awrap(X.a.get("/".concat(c)));case 3:e=a.sent,t=e.data,u(t),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),d.b.error("Cannot load master data. Please restart Raspberry Pi");case 11:case"end":return a.stop()}}),null,null,[[0,8]])}()}),[c]);return r.a.createElement(me.a,{isOpen:t,toggle:a},r.a.createElement(de.a,{toggle:a},c," List"),r.a.createElement(Ee.a,null,r.a.createElement("div",{className:"border",style:{height:"50vh",overflowY:"auto"}},r.a.createElement(pe.a,{bordered:!0,hover:!0,className:"dataTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,s.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(Y.a,{className:"mr-2",color:"warning",size:"sm",onClick:function(){return function(e){l(e),a()}(e)}},"Select")))})))))),r.a.createElement(ge.a,null,r.a.createElement(Y.a,{className:"ml-auto",color:"secondary",onClick:a},"Cancel")))},fe=function(e){var t=e.data,a=e.toggle,n=e.modal;return r.a.createElement("div",null,r.a.createElement(me.a,{isOpen:n,toggle:a},r.a.createElement(de.a,{toggle:a},"Printing Confirmation"),r.a.createElement(Ee.a,null,"Do you want to print this weighing slip?"),r.a.createElement(ge.a,null,r.a.createElement(Y.a,{color:"primary",onClick:function(){h.emit("printVoucher",t),a()}},"Print")," ",r.a.createElement(Y.a,{color:"secondary",onClick:a},"Cancel"))))},ye=a(257),he=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(E.a)(l,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){h.on("readWeight",(function(e){e.weight?c(!0):c(!1)})),h.on("printerReady",(function(e){s(!!e)})),h.on("indicatorDisconnected",(function(){return c(!1)}))}),[]),r.a.createElement("div",null,a?r.a.createElement(ye.a,{className:"mt-2",color:"success"},r.a.createElement(C.a,{icon:x.b})," Indicator is ready to use!"):r.a.createElement(ye.a,{className:"mt-2",color:"danger"},r.a.createElement(C.a,{icon:x.j})," Indicator is not ready. Please check again!"),i?r.a.createElement(ye.a,{className:"mt-2",color:"success"},r.a.createElement(C.a,{icon:x.b})," Printer is ready to use!"):r.a.createElement(ye.a,{className:"mt-2",color:"danger"},r.a.createElement(C.a,{icon:x.j})," Printer is not ready. Please check again!"))},ve=function(e){var t=e.disableWeighing,a=e.forceWeighing,c=e.setIsUpdating,l=e.updateWeighing,i=Object(o.c)((function(e){return e.weighing.stayingTrucks})),s=Object(o.b)();return Object(n.useEffect)((function(){s(te())}),[s]),r.a.createElement(W.a,{sm:12,xl:6},r.a.createElement(G.a,null,r.a.createElement(B.a,null,r.a.createElement("b",null,"Staying trucks list")),r.a.createElement(q.a,null,r.a.createElement(pe.a,{bordered:!0,hover:!0,responsive:!0,className:"dataTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Truck Number"),r.a.createElement("th",null,"Vendor"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.truckNumber),r.a.createElement("td",null,e.vendorCode," - ",e.vendor),r.a.createElement("td",{style:{minWidth:"110px"}},r.a.createElement(Y.a,{className:"mr-2",color:"warning",size:"sm",disabled:t&&!a,onClick:function(){c(!0),l(e)}},r.a.createElement(C.a,{icon:x.i})," Select")))})))))))},Oe=function(e){var t=e.display,a=e.required,n=e.labelName,c=e.codeName,l=e.codeValue,o=e.dataName,i=e.dataValue,s=e.handleAutoComplete,u=e.handleOnclick,m=e.handleChange;return r.a.createElement(V.a,{row:!0,style:{display:t?"":"none"}},r.a.createElement(H.a,{for:o,sm:4},n,":"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:c,maxLength:3,value:l,onChange:s})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:o,required:!!a,value:i,onClick:u,onChange:m})))},Se={_id:"",slipNo:0,numberingType:0,truckNumber:"",brandCode:"",brand:"",vendorCode:"",vendor:"",destinationCode:"",destination:"",otherCode:"",other:"",emptyWeight:null,emptyTime:"",grossWeight:0,grossTime:"",correctionNet:0,edited:!1},Te=function(e){var t=e.location,a=t.updatingStayingTruck,c=t.updatingMeasurementData,l=Object(n.useState)(""),i=Object(E.a)(l,2),s=i[0],u=i[1],m=Object(o.b)(),d=Object(n.useState)(a&&a.weighing||c&&c.weighing||Se),p=Object(E.a)(d,2),g=p[0],b=p[1],f=Object(n.useState)(0),y=Object(E.a)(f,2),v=y[0],O=y[1],S=Object(n.useState)(!1),T=Object(E.a)(S,2),C=T[0],x=T[1],j=Object(n.useState)(!1),N=Object(E.a)(j,2),_=N[0],w=N[1],k=Object(n.useState)({}),R=Object(E.a)(k,2),A=R[0],I=R[1],D=Object(n.useState)("brand"),J=Object(E.a)(D,2),X=J[0],Q=J[1],te=Object(n.useState)(!1),re=Object(E.a)(te,2),ce=re[0],oe=re[1],me=Object(n.useState)(!1),de=Object(E.a)(me,2),Ee=de[0],pe=de[1],ge=Object(n.useState)(!1),ye=Object(E.a)(ge,2),Te=ye[0],Ce=ye[1],xe=Object(o.c)((function(e){return e.itemOperationSetting.payload})),je=Object(o.c)((function(e){return e.weighingOperationSetting.payload})),Ne=Object(o.c)((function(e){return e.weighing.maxSlipNo})),_e=Object(n.useState)(!1),we=Object(E.a)(_e,2),ke=we[0],Re=we[1],Ae=Object(n.useState)(!1),Ie=Object(E.a)(Ae,2),De=Ie[0],Pe=Ie[1];Object(n.useEffect)((function(){a?pe(!0):c&&Ce(!0)}),[c,a]),Object(n.useEffect)((function(){var e=setInterval((function(){var e=new Date,t=e.getHours(),a=e.getMinutes();u("".concat(t<10?"0".concat(t):t,":").concat(a<10?"0".concat(a):a))}),1e3);return function(){return clearInterval(e)}}),[]),Object(n.useEffect)((function(){m($()),m(ee()),m(le())}),[m]),h.on("readWeight",(function(e){O(Number(e.weight).toFixed(0))})),Object(n.useEffect)((function(){Re(je.weighingOperationSetting.weighingStartWeight>v)}),[je.weighingOperationSetting.weighingStartWeight,v]);var Ue=function(e){var t=e.target,a=t.name,n=t.value;b(Object(M.a)({},g,Object(U.a)({},a,n)))},Me=function(e){Q(e),x(!C)};return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(W.a,{sm:12,xl:6,className:"mb-2"},r.a.createElement(G.a,null,r.a.createElement(B.a,null,r.a.createElement("b",null,"Weighing"),r.a.createElement("h5",{style:{display:g.edited?"":"none"},className:"float-right m-0"},r.a.createElement(F.a,{color:"warning"},"Edited"))),r.a.createElement(q.a,null,r.a.createElement(K.a,{onSubmit:function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),ce?(Object.assign(g,{slipNo:Ne,numberingType:je.slipNoStart,emptyTime:s,emptyWeight:v,correctionNet:Number(Math.abs(v-g.grossWeight)).toFixed(0)}),m(Z(g)),oe(!1),I(g),w(!_)):Ee?(m(ne(g)),pe(!1)):Te?(Object.assign(g,{edited:!0,correctionNet:Number(Math.abs(g.emptyWeight-g.grossWeight)).toFixed(0)}),m(ue(g)),Ce(!1)):(Object.assign(g,{grossWeight:v,grossTime:s,emptyWeight:null}),m(ae(g))),b(Se);case 3:case"end":return t.stop()}}))}},r.a.createElement("fieldset",{disabled:ke&&!1===De},r.a.createElement(V.a,{row:!0,style:{display:xe.item1.display?"":"none"}},r.a.createElement(H.a,{for:"truckNumber",sm:4},xe.item1.name,":"),r.a.createElement(W.a,{sm:3},r.a.createElement(z.a,{type:"text",name:"truckNumber",required:!!xe.item1.require,value:g.truckNumber,onChange:function(e){return se(e,g,b,Se)}})),r.a.createElement(H.a,{for:"slipNo",sm:3},"Slip No:"),r.a.createElement(W.a,{sm:2},r.a.createElement(z.a,{type:"text",name:"slipNo",disabled:!(Te||Ee),value:g.slipNo,onChange:Ue}))),r.a.createElement(Oe,{display:xe.item2.display||!1,required:xe.item2.require||!1,labelName:xe.item2.name||"",codeName:"brandCode",codeValue:g.brandCode,dataName:"brand",dataValue:g.brand,handleAutoComplete:function(e){return ie(e,"brand",g,b)},handleOnclick:function(){return Me("brand")},handleChange:Ue}),r.a.createElement(Oe,{display:xe.item3.display||!1,required:xe.item3.require||!1,labelName:xe.item3.name||"",codeName:"vendorCode",codeValue:g.vendorCode,dataName:"vendor",dataValue:g.vendor,handleAutoComplete:function(e){return ie(e,"vendor",g,b)},handleOnclick:function(){return Me("vendor")},handleChange:Ue}),r.a.createElement(Oe,{display:xe.item4.display||!1,required:xe.item4.require||!1,labelName:xe.item4.name||"",codeName:"destinationCode",codeValue:g.destinationCode,dataName:"destination",dataValue:g.destination,handleAutoComplete:function(e){return ie(e,"destination",g,b)},handleOnclick:function(){return Me("destination")},handleChange:Ue}),r.a.createElement(Oe,{display:xe.item5.display||!1,required:xe.item5.require||!1,labelName:xe.item5.name||"",codeName:"otherCode",codeValue:g.otherCode,dataName:"other",dataValue:g.other,handleAutoComplete:function(e){return ie(e,"other",g,b)},handleOnclick:function(){return Me("other")},handleChange:Ue}),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"grossWeight",sm:4},"Truck In:"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"grossTime",value:ce||Ee||Ee?g.grossTime:s,onChange:Ue})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"number",name:"grossWeight",value:ce||Ee||Te?g.grossWeight:v,onChange:Ue}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"emptyWeight",sm:4},"Truck Out:"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"emptyTime",value:ce&&s||Ee&&""||Te&&g.emptyTime||g.emptyTime,onChange:Ue})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"number",name:"emptyWeight",value:ce&&v||Ee&&0||Te&&g.emptyWeight||0,onChange:Ue}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"correctionNet",sm:4},"Net Weight:"),r.a.createElement(W.a,{sm:{size:5,offset:3}},r.a.createElement(z.a,{type:"number",name:"correctionNet",value:ce&&Number(Math.abs(v-g.grossWeight)).toFixed(0)||Ee&&0||Te&&Number(Math.abs(g.emptyWeight-g.grossWeight)).toFixed(0)||0,onChange:Ue})))),r.a.createElement(V.a,{row:!0},r.a.createElement(W.a,{md:{size:6,offset:4},xl:{size:6,offset:4}},r.a.createElement(Y.a,{color:"primary",className:"mr-2",style:{display:ke&&!De?"":"none"},onClick:function(){Re(!1),Pe(!0)}},"Force Weighing"),r.a.createElement(Y.a,{color:"primary",type:"submit",className:"mr-2",style:{display:ke&&!De?"none":""}},(ce?"Complete":(Ee||Te)&&"Update")||"Start"),r.a.createElement(Y.a,{color:"primary",className:"mr-2",style:{display:Te?"":"none"},onClick:function(){w(!_),I(g)}},"Print"),r.a.createElement(Y.a,{color:"secondary",onClick:function(){Re(je.weighingOperationSetting.weighingStartWeight>v),Pe(!1),oe(!1),b(Se),oe(!1),Ce(!1),pe(!1)},style:{display:ke&&!De?"none":""}},"Cancel")))))),r.a.createElement(he,null)),r.a.createElement(ve,{disableWeighing:ke,forceWeighing:De,setIsUpdating:oe,updateWeighing:function(e){return b(e)}})),r.a.createElement(be,{modal:C,toggle:function(){return x(!C)},masterItem:X,onSelect:function(e){var t,a=e.code,n=e.name,r=X,c="".concat(X,"Code");b(Object(M.a)({},g,(t={},Object(U.a)(t,r,n),Object(U.a)(t,c,a),t)))}}),r.a.createElement(fe,{modal:_,toggle:function(){return w(!_)},data:A}))},Ce=a(268);var xe=function(e){var t=e.deleteItem,a=e.toggle,n=e.modal;return r.a.createElement("div",null,r.a.createElement(me.a,{isOpen:n,toggle:a},r.a.createElement(de.a,{toggle:a},"Delete Confirmation"),r.a.createElement(Ee.a,null,"Are you sure you want to delete this item?"),r.a.createElement(ge.a,null,r.a.createElement(Y.a,{color:"danger",onClick:function(){t(),a()}},"Delete")," ",r.a.createElement(Y.a,{color:"secondary",onClick:a},"Cancel"))))},je=function(){var e=Object(o.c)((function(e){return e.weighing.stayingTrucks})),t=Object(o.c)((function(e){return e.weighing.isLoading})),a=Object(o.c)((function(e){return e.itemOperationSetting.payload})),c=Object(o.b)(),l=Object(n.useState)(!1),i=Object(E.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)({}),p=Object(E.a)(m,2),g=p[0],b=p[1],f=Object(n.useState)(""),y=Object(E.a)(f,2),h=y[0],v=y[1];Object(n.useEffect)((function(){c(te()),c($())}),[c]);var O=e.filter((function(e){return-1!==e.truckNumber.toLowerCase().indexOf(h.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(W.a,{sm:12},r.a.createElement(G.a,null,r.a.createElement(B.a,null,r.a.createElement(C.a,{icon:x.q})," Staying Truck List"),r.a.createElement(q.a,null,r.a.createElement(W.a,{sm:{size:6,offset:6},xl:{size:4,offset:8},className:"d-flex mb-2 p-0"},r.a.createElement(z.a,{className:"ml-auto",type:"text",name:"search",placeholder:"Search for truck number...",value:h,onChange:function(e){return v(e.target.value)}})),t?r.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},r.a.createElement(Ce.a,{color:"secondary"})):r.a.createElement("div",{style:{height:"65vh",overflowY:"auto"}},r.a.createElement(pe.a,{bordered:!0,responsive:!0,className:"dataTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,a.item1.name),r.a.createElement("th",null,a.item2.name),r.a.createElement("th",null,a.item3.name),r.a.createElement("th",null,a.item4.name),r.a.createElement("th",null,a.item5.name),r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Weight (kg)"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,O.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{style:{minWidth:"110px"}},e.truckNumber),r.a.createElement("td",null,e.brandCode," - ",e.brand),r.a.createElement("td",null,e.vendorCode," - ",e.vendor),r.a.createElement("td",null,e.destinationCode," - ",e.destination),r.a.createElement("td",null,e.otherCode," - ",e.other),r.a.createElement("td",null,e.grossTime),r.a.createElement("td",null,e.grossWeight),r.a.createElement("td",null,r.a.createElement("div",{style:{minWidth:"170px",minHeight:"100%"},className:"d-flex"},r.a.createElement(Y.a,{tag:S.a,to:{pathname:"/",updatingStayingTruck:{weighing:e}},color:"warning",className:"mr-2",size:"sm"},r.a.createElement(C.a,{icon:x.i})," Update"),r.a.createElement(Y.a,{color:"danger",size:"sm",onClick:function(){u(!s),b(e)}},r.a.createElement(C.a,{icon:x.u})," Delete"))))}))))))))),r.a.createElement(xe,{modal:s,toggle:function(){return u(!s)},currentItem:g,deleteItem:function(){return c((e=g._id,function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.delete("/weighing/".concat(e)));case 3:a=r.sent,n=a.data,t({type:"DELETE_STAYING_TRUCK",payload:n}),d.b.success("Staying truck deleted successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}));var e}}))},Ne=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"GET_BRANDS_MASTER"}),n.prev=1,n.next=4,P.a.awrap(X.a.get("/brand"));case 4:t=n.sent,a=t.data,e({type:"GET_BRANDS_MASTER_SUCCESS",payload:a}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}},_e=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.post("/brand",e));case 3:a=r.sent,n=a.data,t({type:"CREATE_BRAND_MASTER",payload:n}),d.b.success("New brand created successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},we=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.delete("/brand/".concat(e)));case 3:a=r.sent,n=a.data,t({type:"DELETE_BRAND_MASTER",payload:n}),d.b.success("Brand deleted successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},ke=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/brand/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_BRAND_MASTER",payload:n}),d.b.success("Brand updated successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},Re={_id:"",code:"",name:""},Ae=function(e){var t=e.isEditing,a=e.currentItem,c=e.createItem,l=e.updateItem,o=e.toggle,i=e.itemName,s=e.modal,u=Object(n.useState)(Re),m=Object(E.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)((function(){p(a)}),[a]);var g=function(e){var t=e.target,a=t.name,n=t.value;p(Object(M.a)({},d,Object(U.a)({},a,n)))},b=function(e){e.preventDefault(),t?l(d):c(d),p(Re),o()};return r.a.createElement(me.a,{isOpen:s,toggle:o},r.a.createElement(de.a,{toggle:o},t?"Update ":"Create New ",i),r.a.createElement(Ee.a,null,r.a.createElement(K.a,null,r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"code",sm:2},"Code:"),r.a.createElement(W.a,{sm:8},r.a.createElement(z.a,{type:"text",name:"code",maxLength:3,value:d.code,onChange:g,placeholder:"Code"}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"name",sm:2},"Name:"),r.a.createElement(W.a,{sm:8},r.a.createElement(z.a,{type:"text",name:"name",value:d.name,onChange:g,placeholder:"Name",onKeyPress:function(e){"Enter"===e.key&&b(e)}}))))),r.a.createElement(ge.a,null,r.a.createElement(Y.a,{color:"primary",className:"mr-2",onClick:b,disabled:!(d.code.length>0&&d.name.length>0)},t?"Update":"Create"),r.a.createElement(Y.a,{color:"secondary",onClick:function(){return o()}},"Cancel")))},Ie=a(125),De=a(76),Pe=function(e){var t=e.csvData,a=e.fileName;return r.a.createElement(Y.a,{color:"success",className:"mb-2",onClick:function(){var e={Sheets:{data:De.utils.json_to_sheet(t)},SheetNames:["data"]},n=De.write(e,{bookType:"csv",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Ie.saveAs(r,a+".csv")}},r.a.createElement(C.a,{icon:x.h})," Export CSV")},Ue={_id:"",code:"",name:""},Me=function(e){var t=e.items,a=e.isLoading,c=e.dispatch,l=e.tableName,o=e.getItems,i=e.createItem,s=e.updateItem,u=e.deleteItem,m=Object(n.useState)(Ue),d=Object(E.a)(m,2),p=d[0],g=d[1],b=Object(n.useState)(!1),f=Object(E.a)(b,2),y=f[0],h=f[1],v=Object(n.useState)(!1),O=Object(E.a)(v,2),S=O[0],T=O[1],j=Object(n.useState)(!1),N=Object(E.a)(j,2),_=N[0],w=N[1],k=Object(n.useState)(""),R=Object(E.a)(k,2),A=R[0],I=R[1];Object(n.useEffect)((function(){c(o())}),[c,o]);var D=t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(A.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(W.a,{sm:12},r.a.createElement(G.a,null,r.a.createElement(B.a,null,r.a.createElement(C.a,{icon:x.q})," ",l," Data"),r.a.createElement(q.a,null,r.a.createElement(L.a,null,r.a.createElement(W.a,{xs:12,lg:6},r.a.createElement(Y.a,{color:"primary",className:"mb-2 mr-2",onClick:function(){h(!1),g(Ue),w(!_)}},r.a.createElement(C.a,{icon:x.n})," Create"),r.a.createElement(Pe,{csvData:t,fileName:l})),r.a.createElement(W.a,{sm:12,md:12,lg:6,xl:{size:4,offset:2}},r.a.createElement(z.a,{className:"mb-2",type:"text",name:"search",placeholder:"Search for name...",value:A,onChange:function(e){return I(e.target.value)}}))),a?r.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},r.a.createElement(Ce.a,{color:"secondary"})):r.a.createElement("div",{style:{height:"65vh",overflowY:"auto"}},r.a.createElement(pe.a,{bordered:!0,hover:!0,responsive:!0,className:"dataTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,D.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(Y.a,{className:"mr-2",color:"warning",size:"sm",onClick:function(){return function(e){h(!0),g(e),w(!_)}(e)}},r.a.createElement(C.a,{icon:x.i})," Update"),r.a.createElement(Y.a,{color:"danger",size:"sm",onClick:function(){return function(e){g(e),T(!S)}(e)}},r.a.createElement(C.a,{icon:x.u})," Delete"))))}))))))))),r.a.createElement(Ae,{modal:_,toggle:function(){return w(!_)},itemName:l,currentItem:p,isEditing:y,createItem:function(e){return c(i(e))},updateItem:function(e){c(s(e)),h(!1)}}),r.a.createElement(xe,{modal:S,toggle:function(){return T(!S)},currentItem:p,deleteItem:function(){return c(u(p._id))}}))},Le=function(){var e=Object(o.c)((function(e){return e.brands.payload})),t=Object(o.c)((function(e){return e.brands.isLoading})),a=Object(o.b)();return r.a.createElement(Me,{items:e,isLoading:t,dispatch:a,tableName:"Brand Master",getItems:Ne,createItem:_e,updateItem:ke,deleteItem:we})},We={truckNumber:"",brand:"",brandCode:"",vendor:"",vendorCode:"",destination:"",destinationCode:"",other:"",otherCode:"",emptyWeight:0,maximumWeight:0},Ge=function(e){var t=e.currentTruck,a=e.isEditing,c=e.updateTruck,l=e.createTruck,o=e.toggle,i=e.modal,s=Object(n.useState)(We),u=Object(E.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(!1),g=Object(E.a)(p,2),b=g[0],f=g[1],y=Object(n.useState)("brand"),h=Object(E.a)(y,2),v=h[0],O=h[1];Object(n.useEffect)((function(){d(t)}),[t]);var S=function(e){var t=e.target,a=t.name,n=t.value;d(Object(M.a)({},m,Object(U.a)({},a,n)))},T=function(e){e.preventDefault(),a?c(m):l(m),d(We),o()},C=function(e){O(e),f(!b)},x=function(e){"Enter"===e.key&&T(e)};return r.a.createElement("div",null,r.a.createElement(me.a,{isOpen:i,toggle:o},r.a.createElement(de.a,{toggle:o},a?"Update Truck Master":"Create New Truck Master"),r.a.createElement(Ee.a,null,r.a.createElement(K.a,null,r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"truckNumber",sm:4},"Truck Number:"),r.a.createElement(W.a,{sm:4},r.a.createElement(z.a,{type:"text",name:"truckNumber",value:m.truckNumber,onChange:S,onKeyPress:x}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"brand",sm:4},"Brand Name:"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"brandCode",value:m.brandCode,maxLength:"3",onChange:function(e){return ie(e,"brand",m,d)},onKeyPress:x})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:"brand",value:m.brand,onClick:function(){return C("brand")},onChange:S,onKeyPress:x}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"vendor",sm:4},"Vendor:"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"vendorCode",value:m.vendorCode,maxLength:"3",onChange:function(e){return ie(e,"vendor",m,d)},onKeyPress:x})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:"vendor",value:m.vendor,onClick:function(){return C("vendor")},onChange:S,onKeyPress:x}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"destination",sm:4},"Destination:"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"destinationCode",maxLength:"3",value:m.destinationCode,onChange:function(e){return ie(e,"destination",m,d)},onKeyPress:x})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:"destination",value:m.destination,onClick:function(){return C("destination")},onChange:S,onKeyPress:x}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"other",sm:4},"Other:"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"otherCode",maxLength:"3",value:m.otherCode,onChange:function(e){return ie(e,"other",m,d)},onKeyPress:x})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:"other",value:m.other,onClick:function(){return C("other")},onChange:S,onKeyPress:x}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"emptyWeight",sm:5},"Empty Weight:"),r.a.createElement(W.a,{sm:7},r.a.createElement(z.a,{type:"number",name:"emptyWeight",value:m.emptyWeight,onChange:S,onKeyPress:x}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"maximumWeight",sm:5},"Maximum Weight:"),r.a.createElement(W.a,{sm:7},r.a.createElement(z.a,{type:"number",name:"maximumWeight",value:m.maximumWeight,onChange:S,onKeyPress:x}))))),r.a.createElement(ge.a,null,r.a.createElement(Y.a,{color:"primary",className:"mr-2",onClick:T,disabled:!(m.truckNumber.length>0)},a?"Update":"Create"),r.a.createElement(Y.a,{color:"secondary",onClick:function(){return o()}},"Cancel"))),r.a.createElement(be,{modal:b,toggle:function(){return f(!b)},masterItem:v,onSelect:function(e){var t,a=e.code,n=e.name,r=v,c="".concat(v,"Code");d(Object(M.a)({},m,(t={},Object(U.a)(t,r,n),Object(U.a)(t,c,a),t)))}}))},Be={_id:"",truckNumber:"",brand:"",brandCode:"",vendor:"",vendorCode:"",destination:"",destinationCode:"",other:"",otherCode:"",emptyWeight:0,maximumWeight:0},Fe=function(){var e=Object(o.c)((function(e){return e.trucks.payload})),t=Object(o.c)((function(e){return e.trucks.isLoading})),a=Object(o.b)(),c=Object(n.useState)(Be),l=Object(E.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(!1),m=Object(E.a)(u,2),p=m[0],g=m[1],b=Object(n.useState)(!1),f=Object(E.a)(b,2),y=f[0],h=f[1],v=Object(n.useState)(!1),O=Object(E.a)(v,2),S=O[0],T=O[1],j=Object(n.useState)(""),N=Object(E.a)(j,2),_=N[0],w=N[1];Object(n.useEffect)((function(){a((function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"GET_TRUCKS_MASTER"}),n.prev=1,n.next=4,P.a.awrap(X.a.get("/truck"));case 4:t=n.sent,a=t.data,e({type:"GET_TRUCKS_MASTER_SUCCESS",payload:a}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}))}),[a]);var k=e.filter((function(e){return-1!==e.truckNumber.toLowerCase().indexOf(_.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(W.a,{sm:12},r.a.createElement(G.a,null,r.a.createElement(B.a,null,r.a.createElement(C.a,{icon:x.q})," Truck Master Data"),r.a.createElement(q.a,null,r.a.createElement(L.a,null,r.a.createElement(W.a,{xs:12,lg:6},r.a.createElement(Y.a,{color:"primary",className:"mb-2 mr-2",onClick:function(){g(!1),T(!S)}},r.a.createElement(C.a,{icon:x.n})," Create"),r.a.createElement(Pe,{csvData:e,fileName:"Truck Master"})),r.a.createElement(W.a,{sm:12,md:12,lg:6,xl:{size:4,offset:2}},r.a.createElement(z.a,{className:"mb-2",type:"text",name:"search",placeholder:"Search for truck number...",value:_,onChange:function(e){return w(e.target.value)}}))),t?r.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},r.a.createElement(Ce.a,{color:"secondary"})):r.a.createElement(pe.a,{bordered:!0,responsive:!0,className:"dataTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Truck Number"),r.a.createElement("th",null,"Brand Name"),r.a.createElement("th",null,"Vendor"),r.a.createElement("th",null,"Destination"),r.a.createElement("th",null,"Other"),r.a.createElement("th",null,"Empty Weight (kg)"),r.a.createElement("th",null,"Maximum Weight (kg)"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,k.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{style:{minWidth:"110px"}},e.truckNumber),r.a.createElement("td",null,e.brandCode," - ",e.brand),r.a.createElement("td",null,e.vendorCode," - ",e.vendor),r.a.createElement("td",null,e.destinationCode," - ",e.destination),r.a.createElement("td",null,e.otherCode," - ",e.other),r.a.createElement("td",null,e.emptyWeight),r.a.createElement("td",null,e.maximumWeight),r.a.createElement("td",null,r.a.createElement("div",{style:{minWidth:"170px",minHeight:"100%"},className:"d-flex"},r.a.createElement(Y.a,{className:"mr-2",color:"warning",size:"sm",onClick:function(){g(!0),s(e),T(!S)}},r.a.createElement(C.a,{icon:x.i})," Update"),r.a.createElement(Y.a,{color:"danger",size:"sm",onClick:function(){h(!y),s(e)}},r.a.createElement(C.a,{icon:x.u})," Delete"))))})))))))),r.a.createElement(Ge,{modal:S,toggle:function(){return T(!S)},itemName:"Truck",createTruck:function(e){return a(function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.post("/truck",e));case 3:a=r.sent,n=a.data,t({type:"CREATE_TRUCK_MASTER",payload:n}),d.b.success("New truck created successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}}(e))},updateTruck:function(e){a(function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/truck/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_TRUCK_MASTER",payload:n}),d.b.success("Truck updated successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}}(e)),g(!1)},currentTruck:i,isEditing:p,setIsEditing:g}),r.a.createElement(xe,{modal:y,toggle:function(){return h(!y)},currentItem:i,deleteItem:function(){return a((e=i._id,function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.delete("/truck/".concat(e)));case 3:a=r.sent,n=a.data,t({type:"DELETE_TRUCK_MASTER",payload:n}),d.b.success("Truck deleted successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}));var e}}))},qe=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"GET_DESTINATION_MASTER"}),n.prev=1,n.next=4,P.a.awrap(X.a.get("/destination"));case 4:t=n.sent,a=t.data,e({type:"GET_DESTINATION_MASTER_SUCCESS",payload:a}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}},Ke=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.post("/destination",e));case 3:a=r.sent,n=a.data,t({type:"CREATE_DESTINATION_MASTER",payload:n}),d.b.success("New destination created successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},Ve=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.delete("/destination/".concat(e)));case 3:a=r.sent,n=a.data,t({type:"DELETE_VENDOR_MASTER",payload:n}),d.b.success("Destination deleted successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},He=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/destination/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_DESTINATION_MASTER",payload:n}),d.b.success("Destination updated successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},ze=function(){var e=Object(o.c)((function(e){return e.destinations.payload})),t=Object(o.c)((function(e){return e.destinations.isLoading})),a=Object(o.b)();return r.a.createElement(Me,{items:e,isLoading:t,dispatch:a,tableName:"Destination Master",getItems:qe,createItem:Ke,updateItem:He,deleteItem:Ve})},Ye=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"GET_OTHERS_MASTER"}),n.prev=1,n.next=4,P.a.awrap(X.a.get("/other"));case 4:t=n.sent,a=t.data,e({type:"GET_OTHERS_MASTER_SUCCESS",payload:a}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}},Je=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.post("/other",e));case 3:a=r.sent,n=a.data,t({type:"CREATE_OTHER_MASTER",payload:n}),d.b.success("New other created successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},Xe=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.delete("/other/".concat(e)));case 3:a=r.sent,n=a.data,t({type:"DELETE_OTHER_MASTER",payload:n}),d.b.success("Other deleted successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},$e=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/other/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_OTHER_MASTER",payload:n}),d.b.success("Other updated successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},Qe=function(){var e=Object(o.c)((function(e){return e.others.payload})),t=Object(o.c)((function(e){return e.others.isLoading})),a=Object(o.b)();return r.a.createElement(Me,{items:e,isLoading:t,dispatch:a,tableName:"Other Master",getItems:Ye,createItem:Je,updateItem:$e,deleteItem:Xe})},Ze=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"GET_VENDORS_MASTER"}),n.prev=1,n.next=4,P.a.awrap(X.a.get("/vendor"));case 4:t=n.sent,a=t.data,e({type:"GET_VENDORS_MASTER_SUCCESS",payload:a}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}},et=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.post("/vendor",e));case 3:a=r.sent,n=a.data,t({type:"CREATE_VENDOR_MASTER",payload:n}),d.b.success("New vendor created successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},tt=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.delete("/vendor/".concat(e)));case 3:a=r.sent,n=a.data,t({type:"DELETE_VENDOR_MASTER",payload:n}),d.b.success("Vendor deleted successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},at=function(e){return function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/vendor/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_VENDOR_MASTER",payload:n}),d.b.success("Vendor updated successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("There are some errors. Please try again!");case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},nt=function(){var e=Object(o.c)((function(e){return e.vendors.payload})),t=Object(o.c)((function(e){return e.vendors.isLoading})),a=Object(o.b)();return r.a.createElement(Me,{items:e,isLoading:t,dispatch:a,tableName:"Vendor Master",getItems:Ze,createItem:et,updateItem:at,deleteItem:tt})},rt=a(42),ct=a.n(rt),lt=a(44),ot=a.n(lt),it=a(56),st=a.n(it),ut=(a(120),function(){var e=document.getElementById("printableTable"),t=window.open("");t.document.write(e.outerHTML+'<style type="text/css"> \n                            table { border-collapse: collapse; }\n                            table th, table td { border: 0.5px solid #000; padding: 0.5rem; margin: 0 } \n                            .fa-sort { display: none }\n                            @media print {\n                                .noprint {display: none;}\n                            }\n                   </style>'),t.print(),t.close()});st()(ct.a);var mt=function(){var e=Object(o.c)((function(e){return e.weighing.isLoading})),t=Object(o.c)((function(e){return e.weighing.measurementData})),a=Object(o.c)((function(e){return e.itemOperationSetting.payload})),c=Object(o.b)(),l=Object(n.useState)(new Date),i=Object(E.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(E.a)(m,2),p=d[0],g=d[1],b=Object(n.useState)({}),f=Object(E.a)(b,2),y=f[0],h=f[1];return Object(n.useEffect)((function(){c(re(s)),c($())}),[s,c]),r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement(B.a,null,r.a.createElement(C.a,{icon:x.q})," Measurement Data List"),r.a.createElement(q.a,null,r.a.createElement(L.a,null,r.a.createElement(H.a,{for:"date",className:"col-lg-2 col-xl-2 mt-2 mr-2"},"Select Date:"),r.a.createElement(ot.a,{className:"col-md-6 col-lg-4 col-xl-3 mb-4",time:!1,value:s,onChange:function(e){return u(e)}}),r.a.createElement(W.a,{className:"col-md-12 col-lg-5"},r.a.createElement(Y.a,{color:"primary",className:"mb-2 mr-2",onClick:function(){return ut()}},r.a.createElement(C.a,{icon:x.o})," Print"),r.a.createElement(Pe,{csvData:t,fileName:"Measurement Data List"}))),e?r.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},r.a.createElement(Ce.a,{color:"secondary"})):r.a.createElement("div",{style:{height:"65vh",overflowY:"auto"}},r.a.createElement(pe.a,{bordered:!0,responsive:!0,className:"dataTable",id:"printableTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"No"),r.a.createElement("th",null,a.item1.name),r.a.createElement("th",null,a.item2.name),r.a.createElement("th",null,a.item3.name),r.a.createElement("th",null,a.item4.name),r.a.createElement("th",null,a.item5.name),r.a.createElement("th",null,"Truck In (kg)"),r.a.createElement("th",null,"Truck Out (kg)"),r.a.createElement("th",null,"Net Weight (kg)"),r.a.createElement("th",{className:"noprint"},"Actions"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.emptyTime),r.a.createElement("td",null,e.slipNo),r.a.createElement("td",{style:{minWidth:"110px"}},e.truckNumber),r.a.createElement("td",null,e.brandCode," - ",e.brand),r.a.createElement("td",null,e.vendorCode," - ",e.vendor),r.a.createElement("td",null,e.destinationCode," - ",e.destination),r.a.createElement("td",null,e.otherCode," - ",e.other),r.a.createElement("td",null,e.emptyWeight),r.a.createElement("td",null,e.grossWeight),r.a.createElement("td",null,e.correctionNet),r.a.createElement("td",{className:"noprint"},r.a.createElement("div",{style:{minWidth:"170px",minHeight:"100%"},className:"d-flex"},r.a.createElement(Y.a,{tag:S.a,to:{pathname:"/",updatingMeasurementData:{weighing:e}},color:"warning",className:"mr-2",size:"sm"},r.a.createElement(C.a,{icon:x.i})," Update"),r.a.createElement(Y.a,{color:"danger",size:"sm",onClick:function(){g(!p),h(e)}},r.a.createElement(C.a,{icon:x.u})," Delete"))))}))))))),r.a.createElement(xe,{modal:p,toggle:function(){return g(!p)},currentItem:y,deleteItem:function(){return c(ce(y._id))}}))},dt=a(20);st()(ct.a);var Et=function(){var e=Object(o.c)((function(e){return e.summaryReport.isLoading})),t=Object(o.c)((function(e){return e.summaryReport.payload})),a=Object(o.b)(),c=Object(n.useState)([]),l=Object(E.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(new Date),m=Object(E.a)(u,2),p=m[0],g=m[1],b=Object(n.useState)(new Date),f=Object(E.a)(b,2),y=f[0],h=f[1],v=Object(n.useState)(""),O=Object(E.a)(v,2),S=O[0],T=O[1],j=Object(n.useState)(""),N=Object(E.a)(j,2),_=N[0],w=N[1],k=Object(n.useState)(""),R=Object(E.a)(k,2),A=R[0],I=R[1],D=Object(n.useState)(""),U=Object(E.a)(D,2),M=U[0],F=U[1],K=Object(n.useState)(!1),V=Object(E.a)(K,2),J=V[0],$=V[1],Q=Object(n.useState)(!0),Z=Object(E.a)(Q,2),ee=Z[0],te=Z[1];Object(n.useEffect)((function(){switch(S){case"brand":w("Brand");break;case"vendor":w("Vendor");break;case"destination":w("Destination");break;case"other":w("Other");break;default:w("Truck Number")}}),[S]),Object(n.useEffect)((function(){switch(A){case"brand":F("Brand");break;case"vendor":F("Vendor");break;case"destination":F("Destination");break;case"other":F("Other");break;default:F("Truck Number")}}),[A]),Object(n.useEffect)((function(){s(t)}),[t]);var ae=function(e,t){var a,n,r=Object(dt.a)(i);r.sort((a=e,""===(n=t)||void 0===n?function(e,t){var n="string"===typeof e[a]?e[a].toString().toLowerCase():parseFloat(e[a]),r="string"===typeof t[a]?t[a].toString().toLowerCase():parseFloat(t[a]);return n<r?-1:n>r?1:0}:function(e,t){var r="string"===typeof e[a][n]?e[a][n].toString().toLowerCase():parseFloat(e[a][n]),c="string"===typeof t[a][n]?t[a][n].toString().toLowerCase():parseFloat(t[a][n]);return r<c?-1:r>c?1:0})),s(r)},ne=function(e,t){var a,n,r=Object(dt.a)(i);r.sort((a=e,""===(n=t)||void 0===n?function(e,t){var n="string"===typeof e[a]?e[a].toString().toLowerCase():parseFloat(e[a]),r="string"===typeof t[a]?t[a].toString().toLowerCase():parseFloat(t[a]);return n<r?1:n>r?-1:0}:function(e,t){var r="string"===typeof e[a][n]?e[a][n].toString().toLowerCase():parseFloat(e[a][n]),c="string"===typeof t[a][n]?t[a][n].toString().toLowerCase():parseFloat(t[a][n]);return r<c?1:r>c?-1:0})),s(r)},re=function(e,t){te(!ee),""===t||void 0===t?ee?ae(e):ne(e):ee?ae(e,t):ne(e,t)};return r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement(B.a,null,r.a.createElement(C.a,{icon:x.q})," Summary Report"),r.a.createElement(q.a,null,r.a.createElement(L.a,null,r.a.createElement(W.a,{md:12,lg:6,xl:3,className:"mb-2"},r.a.createElement(H.a,{for:"date"},"From date:"),r.a.createElement(ot.a,{time:!1,value:p,onChange:function(e){return g(e)}})),r.a.createElement(W.a,{md:12,lg:6,xl:3},r.a.createElement(H.a,{for:"date"},"To date:"),r.a.createElement(ot.a,{time:!1,value:y,onChange:function(e){return h(e)}}))),r.a.createElement(H.a,{for:"date",className:"mt-2"},"Filter by:"),r.a.createElement(L.a,null,r.a.createElement(W.a,{md:12,lg:6,xl:3},r.a.createElement(z.a,{className:"mr-2 mb-2",type:"select",name:"select",onChange:function(e){T(e.target.value),$(!1)}},r.a.createElement("option",{value:""},"-- Select item 1 --"),r.a.createElement("option",{value:"truckNumber"},"Truck number"),r.a.createElement("option",{value:"brand"},"Brand"),r.a.createElement("option",{value:"vendor"},"Vendor"),r.a.createElement("option",{value:"destination"},"Destination"),r.a.createElement("option",{value:"other"},"Other"))),r.a.createElement(W.a,{md:12,lg:6,xl:3},r.a.createElement(z.a,{className:"mb-2",type:"select",name:"select",disabled:""===S,onChange:function(e){I(e.target.value),$(!1)}},r.a.createElement("option",{value:""},"-- Select item 2 --"),r.a.createElement("option",{value:"truckNumber"},"Truck number"),r.a.createElement("option",{value:"brand"},"Brand"),r.a.createElement("option",{value:"vendor"},"Vendor"),r.a.createElement("option",{value:"destination"},"Destination"),r.a.createElement("option",{value:"other"},"Other"))),r.a.createElement(W.a,{md:12,xl:3},r.a.createElement(Y.a,{color:"primary",onClick:function(){$(!0),a(function(e,t,a,n){return function(r){var c,l,o;return P.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:"GET_SUMMARY_REPORT"}),i.prev=1,c="",c=""!==t?"/weighing/report/".concat(""===e?"truckNumber":e,"/").concat(t,"/").concat(a.toISOString(),"/").concat(n.toISOString()):"/weighing/report/".concat(""===e?"truckNumber":e,"/").concat(a.toISOString(),"/").concat(n.toISOString()),i.next=6,P.a.awrap(X.a.get(c));case 6:l=i.sent,o=l.data,r({type:"GET_SUMMARY_REPORT_SUCCESS",payload:o}),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(1),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 14:case"end":return i.stop()}}),null,null,[[1,11]])}}(S,A,p,y))}},"Filter"),r.a.createElement(Y.a,{color:"primary",className:"ml-2 px-4",onClick:function(){return ut()}},r.a.createElement(C.a,{icon:x.o})," Print"))),e&&r.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},r.a.createElement(Ce.a,{color:"secondary"})),!e&&J&&(""===A?r.a.createElement("div",{id:"printableTable",className:"mt-2"},r.a.createElement(pe.a,{bordered:!0,responsive:!0,className:"dataTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return re("_id")}},_," ",r.a.createElement(C.a,{icon:x.p})),r.a.createElement("th",{onClick:function(){return re("totalCount")}},"Times ",r.a.createElement(C.a,{icon:x.p})),r.a.createElement("th",{onClick:function(){return re("totalWeight")}},"Net weight (kg) ",r.a.createElement(C.a,{icon:x.p})))),r.a.createElement("tbody",null,i.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{style:{minWidth:"110px"}},"brand"===S&&"".concat(e.brandCode," - ")||"vendor"===S&&"".concat(e.vendorCode," - ")||"destination"===S&&"".concat(e.destinationCode," - ")||"other"===S&&"".concat(e.otherCode," - ")," ",e._id),r.a.createElement("td",null,e.totalCount),r.a.createElement("td",null,e.totalWeight))}))))):r.a.createElement("div",{id:"printableTable",className:"mt-2"},r.a.createElement(pe.a,{bordered:!0,responsive:!0,className:"dataTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return re("_id","firstItem")}},_," ",r.a.createElement(C.a,{icon:x.p})),r.a.createElement("th",{onClick:function(){return re("_id","secondItem")}},M," ",r.a.createElement(C.a,{icon:x.p})),r.a.createElement("th",{onClick:function(){return re("totalCount")}},"Times ",r.a.createElement(C.a,{icon:x.p})),r.a.createElement("th",{onClick:function(){return re("totalWeight")}},"Net weight (kg) ",r.a.createElement(C.a,{icon:x.p})))),r.a.createElement("tbody",null,i.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{style:{minWidth:"110px"}},"brand"===S&&"".concat(e.brandCode," - ")||"vendor"===S&&"".concat(e.vendorCode," - ")||"destination"===S&&"".concat(e.destinationCode," - ")||"other"===S&&"".concat(e.otherCode," - "),e._id.firstItem),r.a.createElement("td",{style:{minWidth:"110px"}},"brand"===A&&"".concat(e.brandCode," - ")||"vendor"===A&&"".concat(e.vendorCode," - ")||"destination"===A&&"".concat(e.destinationCode," - ")||"other"===A&&"".concat(e.otherCode," - "),e._id.secondItem),r.a.createElement("td",null,e.totalCount),r.a.createElement("td",null,e.totalWeight))})))))))))},pt={_id:"",slipNo:0,numberingType:0,truckNumber:"",brandCode:"",brand:"",vendorCode:"",vendor:"",destinationCode:"",destination:"",otherCode:"",other:"",emptyWeight:0,emptyTime:"",grossWeight:0,grossTime:"",correctionNet:0},gt=function(){var e=new Date,t=Object(n.useState)("".concat(e.getHours(),":").concat(e.getMinutes())),a=Object(E.a)(t,1)[0],c=Object(o.c)((function(e){return e.itemOperationSetting.payload})),l=Object(o.c)((function(e){return e.weighing.maxSlipNo})),i=Object(o.b)(),s=Object(n.useState)(pt),u=Object(E.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(!1),g=Object(E.a)(p,2),b=g[0],f=g[1],y=Object(n.useState)("brand"),h=Object(E.a)(y,2),v=h[0],O=h[1];Object(n.useEffect)((function(){i($()),i(ee())}),[i]);var S=function(e){var t=e.target,a=t.name,n=t.value;d(Object(M.a)({},m,Object(U.a)({},a,n)))},T=function(e){O(e),f(!b)};return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(W.a,{sm:12,xl:6},r.a.createElement(G.a,null,r.a.createElement(B.a,null,r.a.createElement("b",null,"Weighing")),r.a.createElement(q.a,null,r.a.createElement(K.a,{onSubmit:function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),""===m.emptyTime&&Object.assign(m,{emptyTime:a}),t=Number(Math.abs(m.emptyWeight-m.grossWeight)).toFixed(0),Object.assign(m,{correctionNet:t,slipNo:l}),i(Q(m)),d(pt);case 6:case"end":return n.stop()}}))}},r.a.createElement("fieldset",null,r.a.createElement(V.a,{row:!0,style:{display:c.item1.display?"":"none"}},r.a.createElement(H.a,{for:"truckNumber",sm:4},c.item1.name,":"),r.a.createElement(W.a,{sm:3},r.a.createElement(z.a,{type:"text",name:"truckNumber",required:!!c.item1.require,value:m.truckNumber,onChange:function(e){return se(e,m,d,pt)}})),r.a.createElement(H.a,{for:"slipNo",sm:3},"Slip No:"),r.a.createElement(W.a,{sm:2},r.a.createElement(z.a,{type:"text",name:"slipNo",value:m.slipNo,onChange:S}))),r.a.createElement(V.a,{row:!0,style:{display:c.item2.display?"":"none"}},r.a.createElement(H.a,{for:"brand",sm:4},c.item2.name,":"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"brandCode",value:m.brandCode,onChange:function(e){return ie(e,"brand",m,d)}})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:"brand",required:!!c.item2.require,value:m.brand,onClick:function(){return T("brand")},onChange:S}))),r.a.createElement(V.a,{row:!0,style:{display:c.item3.display?"":"none"}},r.a.createElement(H.a,{for:"vendor",sm:4},c.item3.name,":"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"vendorCode",value:m.vendorCode,onChange:function(e){return ie(e,"vendor",m,d)}})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:"vendor",required:!!c.item3.require,value:m.vendor,onClick:function(){return T("vendor")},onChange:S}))),r.a.createElement(V.a,{row:!0,style:{display:c.item4.display?"":"none"}},r.a.createElement(H.a,{for:"destination",sm:4},c.item4.name,":"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"destinationCode",value:m.destinationCode,onChange:function(e){return ie(e,"destination",m,d)}})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:"destination",required:!!c.item4.require,value:m.destination,onClick:function(){return T("destination")},onChange:S}))),r.a.createElement(V.a,{row:!0,style:{display:c.item5.display?"":"none"}},r.a.createElement(H.a,{for:"other",sm:4},c.item5.name,":"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"otherCode",value:m.otherCode,onChange:function(e){return ie(e,"other",m,d)}})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"text",name:"other",required:!!c.item5.require,value:m.other,onClick:function(){return T("other")},onChange:S}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"grossWeight",sm:4},"Truck In:"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"grossTime",value:m.grossTime,onChange:S})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"number",name:"grossWeight",value:m.grossWeight,onChange:S}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"emptyWeight",sm:4},"Truck Out:"),r.a.createElement(W.a,{xs:4,sm:3},r.a.createElement(z.a,{type:"text",name:"emptyTime",value:m.emptyTime,onChange:S})),r.a.createElement(W.a,{xs:8,sm:5},r.a.createElement(z.a,{type:"number",name:"emptyWeight",value:m.emptyWeight,onChange:S}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"correctionNet",sm:4},"Net Weight:"),r.a.createElement(W.a,{sm:{size:5,offset:3}},r.a.createElement(z.a,{type:"number",name:"correctionNet",value:Number(Math.abs(m.emptyWeight-m.grossWeight)).toFixed(0),onChange:S})))),r.a.createElement(W.a,{sm:{size:7,offset:4}},r.a.createElement(Y.a,{color:"primary",type:"submit"},"Complete"),r.a.createElement(Y.a,{color:"secondary",className:"ml-2",onClick:function(){return d(pt)}},"Cancel"))))))),r.a.createElement(be,{modal:b,toggle:function(){return f(!b)},masterItem:v,onSelect:function(e){var t,a=e.code,n=e.name,r=v,c="".concat(v,"Code");d(Object(M.a)({},m,(t={},Object(U.a)(t,r,n),Object(U.a)(t,c,a),t)))}}))},bt=a(269),ft=function(e){var t=e.label,a=e.name,n=e.value,c=e.handleChange;return r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",xs:5},t),r.a.createElement(W.a,{xs:7},r.a.createElement(z.a,{type:"text",name:a,value:n,onChange:c})))},yt=function(e){var t=e.name,a=e.value,n=e.handleChange;return r.a.createElement("td",{style:{minWidth:"100px"}},r.a.createElement(z.a,{type:"select",name:t,value:a,onChange:n},r.a.createElement("option",{value:!0},"Yes"),r.a.createElement("option",{value:!1},"No")))},ht=function(e){var t=e.name,a=e.value,n=e.handleChange;return r.a.createElement("td",null,r.a.createElement(z.a,{type:"select",name:t,value:a,onChange:n},r.a.createElement("option",{value:!0},"Yes"),r.a.createElement("option",{value:!1},"No")))},vt={_id:"",item1:{name:"",display:!0,require:!0},item2:{name:"",display:!0,require:!0},item3:{name:"",display:!0,require:!0},item4:{name:"",display:!0,require:!0},item5:{name:"",display:!0,require:!0},item6:{name:"",display:!0,require:!0}},Ot=function(){var e=Object(o.c)((function(e){return e.itemOperationSetting.isLoading})),t=Object(o.c)((function(e){return e.itemOperationSetting.payload})),a=Object(o.b)(),c=Object(n.useState)(vt),l=Object(E.a)(c,2),i=l[0],s=l[1];Object(n.useEffect)((function(){a($())}),[a]),Object(n.useEffect)((function(){s(t)}),[t]);for(var u=function(e){var t=e.target,a=t.name,n=t.value;s(Object(M.a)({},i,Object(U.a)({},a,Object(M.a)({},i[a],{name:n}))))},m=function(e){var t=e.target,a=t.name,n=t.value;s(Object(M.a)({},i,Object(U.a)({},a,Object(M.a)({},i[a],{display:n}))))},p=function(e){var t=e.target,a=t.name,n=t.value;s(Object(M.a)({},i,Object(U.a)({},a,Object(M.a)({},i[a],{require:n}))))},g=[],b=[],f=[],y=1;y<=6;y+=1)f.push(r.a.createElement(ft,{key:y,label:"Item ".concat(y," name:"),name:"item".concat(y),value:i["item".concat(y)].name||"",handleChange:u})),g.push(r.a.createElement(yt,{key:y,name:"item".concat(y),value:i["item".concat(y)].display||!1,handleChange:m})),b.push(r.a.createElement(ht,{key:y,name:"item".concat(y),value:i["item".concat(y)].require||!1,handleChange:p}));return r.a.createElement("div",null,e?r.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},r.a.createElement(Ce.a,{color:"secondary"})):r.a.createElement(L.a,null,r.a.createElement(W.a,{lg:6,xl:6},r.a.createElement(G.a,{className:"mb-2"},r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Items name")),r.a.createElement(K.a,null,f)))),r.a.createElement(W.a,{lg:12,xl:10},r.a.createElement(G.a,null,r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Item usage conditions")),r.a.createElement(pe.a,{bordered:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,i.item1.name),r.a.createElement("th",null,i.item2.name),r.a.createElement("th",null,i.item3.name),r.a.createElement("th",null,i.item4.name),r.a.createElement("th",null,i.item5.name),r.a.createElement("th",null,i.item6.name))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Use this item"),g),r.a.createElement("tr",null,r.a.createElement("th",null,"Required"),b))))))),r.a.createElement(L.a,null,r.a.createElement(W.a,{xs:12,lg:"11",className:"my-3"},r.a.createElement(Y.a,{color:"primary",onClick:function(){return a((e=i,function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.a.awrap(X.a.put("/setting/itemoperationsetting/".concat(e._id),e));case 3:a=r.sent,n=a.data,t({type:"UPDATE_ITEM_OPERATION_SETTING",payload:n}),d.b.success("Settings are updated successfully"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 12:case"end":return r.stop()}}),null,null,[[0,9]])}));var e}},"Update"))))},St=function(e){var t=e.showIndicator,a=e.baudRate,n=e.parity,c=e.dataBits,l=e.stopBits,o=e.handleChange;return r.a.createElement(W.a,{lg:4,xl:6},r.a.createElement(G.a,{style:{display:t?"":"none"}},r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Indicator settings")),r.a.createElement(K.a,null,r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",xs:6,lg:12,xl:4},"Baud Rate:"),r.a.createElement(W.a,{xs:6,lg:12,xl:4},r.a.createElement(z.a,{type:"select",name:"baudRate",value:a,onChange:o},r.a.createElement("option",{value:1200},"1200"),r.a.createElement("option",{value:2400},"2400"),r.a.createElement("option",{value:4800},"4800"),r.a.createElement("option",{value:9600},"9600"),r.a.createElement("option",{value:19200},"19200"),r.a.createElement("option",{value:38400},"38400"),r.a.createElement("option",{value:57600},"57600"),r.a.createElement("option",{value:115200},"115200")))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",xs:6,lg:12,xl:4},"Parity:"),r.a.createElement(W.a,{xs:6,lg:12,xl:4},r.a.createElement(z.a,{type:"select",name:"parity",value:n,onChange:o},r.a.createElement("option",{value:"none"},"None"),r.a.createElement("option",{value:"even"},"Even"),r.a.createElement("option",{value:"odd"},"Odd")))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",xs:6,lg:12,xl:4},"Data bits:"),r.a.createElement(W.a,{xs:6,lg:12,xl:4},r.a.createElement(z.a,{type:"select",name:"dataBits",value:c,onChange:o},r.a.createElement("option",{value:7},"7"),r.a.createElement("option",{value:8},"8")))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",xs:6,lg:12,xl:4},"Stop bits:"),r.a.createElement(W.a,{xs:6,lg:12,xl:4},r.a.createElement(z.a,{type:"select",name:"stopBits",value:l,onChange:o},r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"))))))))},Tt={_id:"",indicatorSetting:{portName:"",baudRate:0,parity:"",dataBits:0,stopBits:0},weighingOperationSetting:{weighingStartWeight:0,slipNoStart:0,documentNumbering:0},maintenanceDataUpload:{isEnabling:!1,uploadInterval:1}},Ct=function(){var e=Object(o.c)((function(e){return e.weighingOperationSetting.isLoading})),t=Object(o.c)((function(e){return e.weighingOperationSetting.payload})),a=Object(o.c)((function(e){return e.weighingOperationSetting.serialPorts})),c=Object(o.b)(),l=Object(n.useState)(Tt),i=Object(E.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),p=Object(E.a)(m,2),g=p[0],b=p[1],f=Object(n.useState)(!1),y=Object(E.a)(f,2),h=y[0],v=y[1];Object(n.useEffect)((function(){c(le()),c((function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.a.awrap(X.a.get("/setting/getserialports"));case 3:t=n.sent,a=t.data,e({type:"GET_SERIAL_PORTS",payload:a}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 11:case"end":return n.stop()}}),null,null,[[0,8]])}))}),[c]),Object(n.useEffect)((function(){u(t)}),[t]);var O=function(e){var t=e.target,a=t.name,n=t.value;u(Object(M.a)({},s,{weighingOperationSetting:Object(M.a)({},s.weighingOperationSetting,Object(U.a)({},a,n))}))},S=function(e){var t=e.target,a=t.name,n=t.value;u(Object(M.a)({},s,{indicatorSetting:Object(M.a)({},s.indicatorSetting,Object(U.a)({},a,n))}))};return r.a.createElement("div",null,e?r.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},r.a.createElement(Ce.a,{color:"secondary"})):r.a.createElement(L.a,null,r.a.createElement(W.a,{lg:8,xl:6},r.a.createElement(G.a,null,r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Operation Weighing")),r.a.createElement(K.a,null,r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",sm:6},"Weighing start weight:"),r.a.createElement(W.a,{sm:4},r.a.createElement(z.a,{type:"number",name:"weighingStartWeight",value:s.weighingOperationSetting.weighingStartWeight||"",onChange:O}))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",sm:6},"How to number Slip No:"),r.a.createElement(W.a,{sm:6},r.a.createElement(z.a,{type:"select",name:"slipNoStart",value:s.weighingOperationSetting.slipNoStart,onChange:O},r.a.createElement("option",{value:0},"Starts at No.1 every day"),r.a.createElement("option",{value:1},"Starts with the specified number every day"),r.a.createElement("option",{value:2},"Sequential number")))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",sm:6},"Document number for next weighing:"),r.a.createElement(W.a,{sm:2},r.a.createElement(z.a,{type:"number",name:"documentNumbering",value:s.weighingOperationSetting.documentNumbering||0,disabled:0===s.weighingOperationSetting.slipNoStart,onChange:O})))))),r.a.createElement(G.a,{className:"mt-3"},r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Devices Setting")),r.a.createElement(K.a,null,r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"item1",sm:6},"Indicator port:"),r.a.createElement(W.a,{xs:8},r.a.createElement(z.a,{type:"text",name:"portName",onChange:S,value:s.indicatorSetting.portName||""})),r.a.createElement(W.a,{xs:4},r.a.createElement(Y.a,{color:"secondary",onClick:function(){h&&v(!1),b(!g)}},"Details")))))),r.a.createElement(G.a,{className:"my-3"},r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Serial port list")),a.length>0?r.a.createElement(pe.a,{bordered:!0,hover:!0,className:"dataTable"},r.a.createElement("tbody",null,a.map((function(e){return e.manufacturer?r.a.createElement("tr",{key:e.serialNumber},r.a.createElement("td",null,e.manufacturer," - (",r.a.createElement("b",null,e.path),")"),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(Y.a,{color:"warning",className:"mr-2",onClick:function(){return u(Object(M.a)({},s,{indicatorSetting:Object(M.a)({},s.indicatorSetting,{portName:e.path})}))}},"Set as Indicator")))):r.a.createElement("div",null)})))):r.a.createElement("div",null)))),r.a.createElement(St,{showIndicator:g||!1,baudRate:parseInt(s.indicatorSetting.baudRate,10)||0,parity:s.indicatorSetting.parity||"",dataBits:parseInt(s.indicatorSetting.dataBits,10)||0,stopBits:parseInt(s.indicatorSetting.stopBits,10)||0,handleChange:S})),r.a.createElement(L.a,null,r.a.createElement(W.a,{xs:4,lg:"12",className:"mb-3"},r.a.createElement(Y.a,{color:"primary",onClick:function(){return c(oe(s))}},"Update"))))},xt=a(274),jt={_id:"",maintenanceDataUpload:{isEnabling:!1,uploadInterval:0}},Nt=function(){var e=Object(o.c)((function(e){return e.weighingOperationSetting.payload})),t=Object(o.b)(),a=Object(n.useState)(jt),c=Object(E.a)(a,2),l=c[0],i=c[1];Object(n.useEffect)((function(){t(le())}),[t]),Object(n.useEffect)((function(){i(e)}),[e]);return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(W.a,{xs:12,md:{size:8,offset:2}},r.a.createElement(G.a,null,r.a.createElement(q.a,null,r.a.createElement(K.a,{onSubmit:function(e){e.preventDefault(),t(oe(l))}},r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{xs:12,xl:6},r.a.createElement("b",null,"Maintenance Data Upload:")),r.a.createElement(W.a,{xs:12,xl:6},r.a.createElement("div",{className:"d-flex mt-1"},r.a.createElement(xt.a,{checked:!0===l.maintenanceDataUpload.isEnabling,type:"radio",id:"rdButton1",className:"mr-3",onChange:function(){return i(Object(M.a)({},l,{maintenanceDataUpload:Object(M.a)({},l.maintenanceDataUpload,{isEnabling:!0})}))},label:"Enable"}),r.a.createElement(xt.a,{checked:!1===l.maintenanceDataUpload.isEnabling,type:"radio",id:"rdButton2",label:"Disable",onChange:function(){return i(Object(M.a)({},l,{maintenanceDataUpload:Object(M.a)({},l.maintenanceDataUpload,{isEnabling:!1})}))}})))),r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{xs:12,xl:6},r.a.createElement("b",null,"Upload interval:")),r.a.createElement(W.a,{xs:12,xl:6},r.a.createElement("div",{className:"d-flex mt-1"},r.a.createElement(z.a,{type:"number",max:60,min:1,className:"mr-2 w-50",value:l.maintenanceDataUpload.uploadInterval||0,disabled:!l.maintenanceDataUpload.isEnabling,onChange:function(e){return i(Object(M.a)({},l,{maintenanceDataUpload:Object(M.a)({},l.maintenanceDataUpload,{uploadInterval:e.target.value})}))}}),r.a.createElement("p",{className:"mt-1"},"(1 ~ 60 min)")))),r.a.createElement(L.a,null,r.a.createElement(W.a,{xs:12,xl:{size:6,offset:6}},r.a.createElement(Y.a,{color:"primary",type:"submit"},"Update")))))))))},_t=function(){return function(e){var t,a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.a.awrap(X.a.get("/setting/getusbdrives"));case 3:t=n.sent,a=t.data,e({type:"GET_USB_DRIVES",payload:a}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),d.b.error("Failed to load data from server. Please restart Raspberry Pi",{autoClose:!1});case 11:case"end":return n.stop()}}),null,null,[[0,8]])}},wt=a(270),kt=a(271),Rt=function(e){var t=e.handleSubmit,a=e.backupDestination,n=e.setBackupDestination,c=e.drives,l=e.isUSBLoading;return r.a.createElement(L.a,null,r.a.createElement(W.a,{lg:{size:10,offset:1},xl:{size:8,offset:2}},r.a.createElement(G.a,null,r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Backup data to USB drive")),r.a.createElement(K.a,{onSubmit:t},r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"backupDestination",sm:4,xl:3},"Destination:"),r.a.createElement(W.a,{sm:8,xl:6},r.a.createElement(z.a,{type:"select",value:a,name:"backupDestination",onChange:function(e){return n(e.target.value)}},r.a.createElement("option",null,"---- Select drive ----"),c.map((function(e){return r.a.createElement("option",{key:e.device,value:e.mountpoints[0].path},e.description)}))))),r.a.createElement(V.a,{row:!0},r.a.createElement(W.a,{sm:12,className:"my-2"},r.a.createElement(wt.a,null,r.a.createElement("b",null,'1. Select the backup drive in "Destination"')),r.a.createElement(wt.a,null,"Drives are removable storages such as USB flash drive"),r.a.createElement(wt.a,null,r.a.createElement("b",null,"2. Click the Backup to USB button to start backup")),r.a.createElement(wt.a,null,"The data to be backed up is weighing data, master data and setting data"))),r.a.createElement(V.a,{row:!0},r.a.createElement(W.a,{sm:12},l?r.a.createElement("div",null,r.a.createElement(kt.a,{animated:!0,color:"info",value:"100",className:"my-1"}),r.a.createElement(wt.a,null,r.a.createElement("b",null,"Backing up...Please wait a few seconds!"))):r.a.createElement(Y.a,{type:"submit",color:"primary"},"Backup to USB"))))))))},At=function(){var e=Object(o.c)((function(e){return e.backup.payload})),t=Object(o.b)(),a=Object(n.useState)(""),c=Object(E.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),u=Object(E.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)((function(){t(_t())}),[t]),Object(n.useEffect)((function(){h.on("backupComplete",(function(){p(!1),d.b.success("Backup successfully!")})),h.on("backupError",(function(){p(!1),d.b.error("Something went wrong! Please try again!")}))}),[]);return r.a.createElement("div",null,r.a.createElement(Rt,{handleSubmit:function(e){e.preventDefault(),""!==l?(p(!0),h.emit("startBackup",l)):d.b.error("Please choose a USB drive!")},backupDestination:l,setBackupDestination:i,drives:e,isUSBLoading:m}))},It=function(){var e=Object(o.c)((function(e){return e.backup.payload})),t=Object(o.b)(),a=Object(n.useState)(!1),c=Object(E.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(""),u=Object(E.a)(s,2),m=u[0],p=u[1],g=Object(n.useState)({setting:!1,data:!1}),b=Object(E.a)(g,2),f=b[0],y=b[1];Object(n.useEffect)((function(){t(_t())}),[t]),Object(n.useEffect)((function(){h.on("dataNotFound",(function(){i(!1),d.b.error("Cannot found data to restore!")})),h.on("restoreComplete",(function(){i(!1),d.b.success("Restore successfully!")})),h.on("restoreError",(function(){i(!1),d.b.error("Some thing went wrong! Please try again!")}))}),[]);return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(W.a,{lg:{size:8,offset:2},xl:{size:6,offset:3}},r.a.createElement(G.a,null,r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Restore")),r.a.createElement(K.a,{onSubmit:function(e){e.preventDefault(),i(!0),h.emit("startRestore",{path:m,item:f})}},r.a.createElement(V.a,{row:!0},r.a.createElement(H.a,{for:"restoreDestination",lg:4},"Destination:"),r.a.createElement(W.a,{lg:8},r.a.createElement(z.a,{type:"select",value:m,name:"restoreDestination",onChange:function(e){return p(e.target.value)}},r.a.createElement("option",null,"---- Select drive ----"),e.map((function(e){return r.a.createElement("option",{key:e.device,value:"".concat(e.mountpoints[0].path,"/ats-1200")},e.description)}))))),r.a.createElement(V.a,{tag:"fieldset",row:!0},r.a.createElement(W.a,{lg:12,className:"my-2"},r.a.createElement(wt.a,null,r.a.createElement("b",null,"Restore items")),r.a.createElement(V.a,{check:!0},r.a.createElement(H.a,{check:!0},r.a.createElement(z.a,{type:"checkbox",onChange:function(e){return y(Object(M.a)({},f,{data:e.target.checked}))}})," ","Restore weighing data")),r.a.createElement(V.a,{check:!0},r.a.createElement(H.a,{check:!0},r.a.createElement(z.a,{type:"checkbox",onChange:function(e){return y(Object(M.a)({},f,{setting:e.target.checked}))}})," ","Restore settings")))),r.a.createElement(V.a,{row:!0},r.a.createElement(W.a,{lg:12},l?r.a.createElement("div",null,r.a.createElement(kt.a,{animated:!0,color:"info",value:"100",className:"my-1"}),r.a.createElement(wt.a,null,r.a.createElement("b",null,"Restoring...Please wait a few seconds!"))):r.a.createElement(Y.a,{type:"submit",color:"primary"},"Start Restore")))))))))},Dt=a(272),Pt=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){h.on("updateComplete",(function(){h.emit("restartServer"),setTimeout((function(){c(!1),d.b.success("Success! Please refresh browser to apply changes")}),4e3)})),h.on("updateError",(function(){c(!1),d.b.error("Something went wrong! Please contact IT support.")}))}),[]);return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(W.a,{lg:{size:8,offset:2}},r.a.createElement(G.a,null,r.a.createElement(q.a,null,r.a.createElement(bt.a,null,r.a.createElement("b",null,"Software Update:")),r.a.createElement(Dt.a,null,r.a.createElement("ul",null,r.a.createElement("li",null,"Click ",r.a.createElement("b",null,"Update")," button to install latest update"," ",r.a.createElement("b",null,"(Internet connection is required)")),r.a.createElement("li",null,"Update process will took a few minutes. Do not refresh browser until it complete."))),a?r.a.createElement("div",null,r.a.createElement(kt.a,{animated:!0,color:"info",value:"100",className:"my-1"}),r.a.createElement(wt.a,null,r.a.createElement("b",null,"Updating...Please wait a few minutes!"))):r.a.createElement(Y.a,{color:"primary",onClick:function(){c(!0),h.emit("startUpdate")}},"Update"))))))},Ut=r.a.lazy((function(){return a.e(3).then(a.bind(null,275))})),Mt=function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},"Loading...")},r.a.createElement(u.c,null,r.a.createElement(I,{layout:R,component:Te,exact:!0,path:"/"}),r.a.createElement(I,{layout:R,component:Le,exact:!0,path:"/brand-master"}),r.a.createElement(I,{layout:R,component:Fe,exact:!0,path:"/truck-master"}),r.a.createElement(I,{layout:R,component:ze,exact:!0,path:"/destination-master"}),r.a.createElement(I,{layout:R,component:Qe,exact:!0,path:"/other-master"}),r.a.createElement(I,{layout:R,component:nt,exact:!0,path:"/vendor-master"}),r.a.createElement(I,{layout:R,component:je,exact:!0,path:"/staying-truck-list"}),r.a.createElement(I,{layout:R,component:mt,exact:!0,path:"/measurement-data-list"}),r.a.createElement(I,{layout:R,component:Et,exact:!0,path:"/summary-report"}),r.a.createElement(I,{layout:R,component:gt,exact:!0,path:"/manual-weighing"}),r.a.createElement(I,{layout:R,component:Ot,exact:!0,path:"/item-operation-setting"}),r.a.createElement(I,{layout:R,component:Ct,exact:!0,path:"/operation-setting"}),r.a.createElement(I,{layout:R,component:Nt,exact:!0,path:"/maintenance-data-upload"}),r.a.createElement(I,{layout:R,component:At,exact:!0,path:"/backup"}),r.a.createElement(I,{layout:R,component:It,exact:!0,path:"/restore"}),r.a.createElement(I,{layout:R,component:Pt,exact:!0,path:"/update"}),r.a.createElement(u.a,{component:Ut})))},Lt=Object(m.a)();var Wt=function(){return r.a.createElement(u.b,{history:Lt},r.a.createElement(Mt,null),r.a.createElement(d.a,{autoClose:5e3,position:"top-right"}))},Gt={payload:[],isLoading:!1},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BRANDS_MASTER":return Object(M.a)({},e,{isLoading:!0});case"GET_BRANDS_MASTER_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:t.payload});case"CREATE_BRAND_MASTER":return Object(M.a)({},e,{payload:[].concat(Object(dt.a)(e.payload),[t.payload])});case"UPDATE_BRAND_MASTER":return Object(M.a)({},e,{payload:e.payload.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_BRAND_MASTER":return Object(M.a)({},e,{payload:e.payload.filter((function(e){return e._id!==t.payload._id}))});default:return e}},Ft={payload:[],isLoading:!1},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VENDORS_MASTER":return Object(M.a)({},e,{isLoading:!0});case"GET_VENDORS_MASTER_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:t.payload});case"CREATE_VENDOR_MASTER":return Object(M.a)({},e,{payload:[].concat(Object(dt.a)(e.payload),[t.payload])});case"UPDATE_VENDOR_MASTER":return Object(M.a)({},e,{payload:e.payload.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_VENDOR_MASTER":return Object(M.a)({},e,{payload:e.payload.filter((function(e){return e._id!==t.payload._id}))});default:return e}},Kt={payload:[],isLoading:!1},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DESTINATION_MASTER":return Object(M.a)({},e,{isLoading:!0});case"GET_DESTINATION_MASTER_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:t.payload});case"CREATE_DESTINATION_MASTER":return Object(M.a)({},e,{payload:[].concat(Object(dt.a)(e.payload),[t.payload])});case"UPDATE_DESTINATION_MASTER":return Object(M.a)({},e,{payload:e.payload.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_VENDOR_MASTER":return Object(M.a)({},e,{payload:e.payload.filter((function(e){return e._id!==t.payload._id}))});default:return e}},Ht={payload:[],isLoading:!1},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OTHERS_MASTER":return Object(M.a)({},e,{isLoading:!0});case"GET_OTHERS_MASTER_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:t.payload});case"CREATE_OTHER_MASTER":return Object(M.a)({},e,{payload:[].concat(Object(dt.a)(e.payload),[t.payload])});case"UPDATE_OTHER_MASTER":return Object(M.a)({},e,{payload:e.payload.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_OTHER_MASTER":return Object(M.a)({},e,{payload:e.payload.filter((function(e){return e._id!==t.payload._id}))});default:return e}},Yt={payload:[],isLoading:!1},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TRUCKS_MASTER":return Object(M.a)({},e,{isLoading:!0});case"GET_TRUCKS_MASTER_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:t.payload});case"CREATE_TRUCK_MASTER":return Object(M.a)({},e,{payload:[].concat(Object(dt.a)(e.payload),[t.payload])});case"UPDATE_TRUCK_MASTER":return Object(M.a)({},e,{payload:e.payload.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_TRUCK_MASTER":return Object(M.a)({},e,{payload:e.payload.filter((function(e){return e._id!==t.payload._id}))});default:return e}},Xt={payload:[],isLoading:!1},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STAYING_TRUCKS":return Object(M.a)({},e,{isLoading:!0});case"GET_STAYING_TRUCKS_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:t.payload});case"CREATE_STAYING_TRUCK":return Object(M.a)({},e,{payload:[].concat(Object(dt.a)(e.payload),[t.payload])});case"UPDATE_STAYING_TRUCK":return Object(M.a)({},e,{payload:e.payload.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_STAYING_TRUCK":return Object(M.a)({},e,{payload:e.payload.filter((function(e){return e._id!==t.payload._id}))});default:return e}},Qt={payload:{_id:"",item1:{},item2:{},item3:{},item4:{},item5:{},item6:{}},isLoading:!1},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEM_OPERATION_SETTING":return Object(M.a)({},e,{isLoading:!0});case"GET_ITEM_OPERATION_SETTING_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:Object(M.a)({},e.payload,{_id:t.payload._id,item1:t.payload.item1,item2:t.payload.item2,item3:t.payload.item3,item4:t.payload.item4,item5:t.payload.item5,item6:t.payload.item6})});case"UPDATE_ITEM_OPERATION_SETTING":return Object(M.a)({},e,{payload:t.payload});default:return e}},ea={payload:[],isLoading:!1},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MEASUREMENT_DATA_LIST":return Object(M.a)({},e,{isLoading:!0});case"GET_MEASUREMENT_DATA_LIST_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:t.payload});case"UPDATE_MEASUREMENT_DATA_LIST":return Object(M.a)({},e,{payload:e.payload.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_MEASUREMENT_DATA_LIST":return Object(M.a)({},e,{payload:e.payload.filter((function(e){return e._id!==t.payload._id}))});default:return e}},aa={weighing:{},maxSlipNo:0,stayingTrucks:[],measurementData:[],isLoading:!1},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_WEIGHING":return Object(M.a)({},e,{weighing:t.payload});case"UPDATE_WEIGHING":return Object(M.a)({},e,{weighing:t.payload,stayingTrucks:e.stayingTrucks.filter((function(e){return e._id!==t.payload._id}))});case"GET_MAX_SLIPNO":return Object(M.a)({},e,{maxSlipNo:t.payload});case"GET_STAYING_TRUCKS":return Object(M.a)({},e,{isLoading:!0});case"GET_STAYING_TRUCKS_SUCCESS":return Object(M.a)({},e,{isLoading:!1,stayingTrucks:t.payload});case"CREATE_STAYING_TRUCK":return Object(M.a)({},e,{stayingTrucks:[].concat(Object(dt.a)(e.stayingTrucks),[t.payload])});case"UPDATE_STAYING_TRUCK":return Object(M.a)({},e,{stayingTrucks:e.payload.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_STAYING_TRUCK":return Object(M.a)({},e,{stayingTrucks:e.stayingTrucks.filter((function(e){return e._id!==t.payload._id}))});case"GET_MEASUREMENT_DATA_LIST":return Object(M.a)({},e,{isLoading:!0});case"GET_MEASUREMENT_DATA_LIST_SUCCESS":return Object(M.a)({},e,{isLoading:!1,measurementData:t.payload});case"UPDATE_MEASUREMENT_DATA_LIST":return Object(M.a)({},e,{measurementData:e.measurementData.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_MEASUREMENT_DATA_LIST":return Object(M.a)({},e,{measurementData:e.measurementData.filter((function(e){return e._id!==t.payload._id}))});default:return e}},ra={isLoading:!1,payload:{_id:"",maintenanceDataUpload:{},weighingOperationSetting:{},slipPrinterSetting:{},indicatorSetting:{}},serialPorts:[]},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEIGHING_OPERATION_SETTING":return Object(M.a)({},e,{isLoading:!0});case"GET_WEIGHING_OPERATION_SETTING_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:Object(M.a)({},e.payload,{_id:t.payload._id,maintenanceDataUpload:t.payload.maintenanceDataUpload,weighingOperationSetting:t.payload.weighingOperationSetting,slipPrinterSetting:t.payload.slipPrinterSetting,indicatorSetting:t.payload.indicatorSetting})});case"GET_SERIAL_PORTS":return Object(M.a)({},e,{serialPorts:t.payload});case"UPDATE_WEIGHING_OPERATION_SETTING":return Object(M.a)({},e,{payload:t.payload});default:return e}},la={payload:[],isLoading:!1},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SUMMARY_REPORT":return Object(M.a)({},e,{isLoading:!0});case"GET_SUMMARY_REPORT_SUCCESS":return Object(M.a)({},e,{isLoading:!1,payload:t.payload});default:return e}},ia={payload:[]},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USB_DRIVES":return Object(M.a)({},e,{payload:t.payload});default:return e}},ua=Object(i.c)({brands:Bt,vendors:qt,destinations:Vt,others:zt,trucks:Jt,stayingTrucks:$t,itemOperationSetting:Zt,measurementDataList:ta,weighing:na,weighingOperationSetting:ca,summaryReport:oa,backup:sa});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ma=Object(i.d)(ua,Object(i.a)(s.a));l.a.render(r.a.createElement(o.a,{store:ma},r.a.createElement(Wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},64:function(e,t,a){}},[[126,1,2]]]);
//# sourceMappingURL=main.8bb5eaf0.chunk.js.map